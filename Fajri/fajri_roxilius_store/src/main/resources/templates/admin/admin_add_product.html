<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>ADMIN</title>
    <!-- Icons -->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <link rel="shortcut icon" href="/fragments/adminIcon.png">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- Bootstrap Css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css}" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Addition Css -->
    <link rel="stylesheet" th:href="@{/css/nav.css}">
    <style>
        input, textarea{
            color: white !important;

            background-color: transparent !important;
        }
        input::placeholder{
                color: white !important;
                font-weight: bolder;
        }
        @media (max-witdh: 801px) {
            form{
                width: 100% !important;
            }
            button{
                width: 10% !important;
            }
        }
    </style>
</head>

<body class="overflow-hidden">
    <main class="d-flex flex-row">
        <!-- navbar laptop & tablet -->
        <div class="nav-lt d-flex flex-column flex-shrink-0 p-3 bg-dark" style="width: 20%; height: 100vh;">
            <!-- logo -->
            <a th:href="@{/Admin-Products}" class="d-flex align-items-center ">
                <img th:src="@{/fragments/Profile.png}" class="m-auto" alt="" width="90px">
            </a>
            <!-- nav -->
            <hr style="border: 1px solid red;">
            <ul class="nav nav-pills flex-column mb-auto">
                <li class="border border-light rounded mb-2">
                    <a th:href="@{/Admin-Products}" class="nav-link  link-light" aria-current="page"><i
                            class='bx bx-laptop'></i> Products</a>
                </li>
                <li class="nav-item mb-2">
                    <a th:href="@{/Add-Product}" class="nav-link active link-light"><i class='bx bx-plus-circle'></i>
                        Add
                        Product</a>
                </li>
                <li class="border border-light rounded">
                    <a th:href="@{/Admin-Users}" class="nav-link link-light"><i class='bx bx-user-circle'></i> Users</a>
                </li>
            </ul>
            <hr style="border: 1px solid red;">
            <!-- drop up -->
            <div class="dropup">
                <a href="" class="d-flex align-items-center link-light text-decoration-none dropdown-toggle"
                    id="dropdownUser2" data-bs-toggle="dropdown" aria-expanded="false">
                    <img th:src="@{/fragments/fajri.jpg}" alt="" width="32" height="32" class="rounded-circle me-2">
                    <strong>Fajri</strong>
                </a>
                <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownUser2">
                    <li><a class="dropdown-item" th:href="@{/login}"><i class="fas fa-right-from-bracket"></i> Sign out</a></li>
                </ul>
            </div>
        </div>
        <!-- navbar hp -->
        <div class="nav-hp d-flex flex-column flex-shrink-0 bg-dark" style="width: 20%; height: 100vh;">
            <!-- logo -->
            <a th:href="@{/Admin-Products}" class="d-flex align-items-center" title="" data-bs-toggle="tooltip"
                data-bs-placement="right" data-bs-original-title="Icon-only">
                <img th:src="@{/fragments/Profile.png}" class="m-auto" alt="" width="50px">
            </a>
            <!-- nav -->
            <hr style="border: 1px solid red;">
            <ul class="nav nav-pills nav-flush flex-column mb-auto text-center p-2">
                <li class="border border-light rounded mb-2">
                    <a th:href="@{/Admin-Products}" class="nav-link  py-3 link-light" aria-current="page" title=""
                        data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Home">
                        <i class='bx bx-laptop'></i>
                    </a>
                </li>
                <li class="nav-item mb-2">
                    <a th:href="@{/Add-Product}" class="nav-link active py-3 link-light" title=""
                        data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Dashboard">
                        <i class='bx bx-plus-circle'></i>
                    </a>
                </li>
                <li class="border border-light rounded">
                    <a th:href="@{/Admin-Users}" class="nav-link py-3 link-light" title="" data-bs-toggle="tooltip"
                        data-bs-placement="right" data-bs-original-title="Orders">
                        <i class='bx bx-user-circle'></i>
                    </a>
                </li>
            </ul>
            <hr style="border: 1px solid red;">
            <!-- drop up -->
            <div class="dropup">
                <a href=""
                    class="d-flex align-items-center justify-content-center p-3 link-light text-decoration-none dropdown-toggle"
                    id="dropdownUser3" data-bs-toggle="dropdown" aria-expanded="false">
                    <img th:src="@{/fragments/fajri.jpg}" alt="mdo" width="24" height="24" class="rounded-circle">
                </a>
                <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownUser3">
                    <li><a class="dropdown-item" th:href="@{/login}"> <i class="fas fa-right-from-bracket"></i> Sign out</a></li>
                </ul>
            </div>
        </div>

        <div class="container-fluid d-flex flex-wrap w-100 p-2 overflow-auto" style="height: 98vh;">
            <form th:action="@{/Add-Product}" method="post" enctype="multipart/form-data"
                class="m-auto w-75 p-3">
                <div class="text-center bg-primary rounded text-white">Add Product</div>
                <hr style="border: solid 1px red;">
                <!-- Product ID -->
                <input type="hidden" th:field="${product.id}">
                <!-- <input type="hidden" th:field="${product.price}"> -->
                <!-- Merk input -->
                <div class="form-outline mb-3">
                    <input type="text" name="merk" class="form-control form-control-small" placeholder="Merk"
                        required/>
                </div>
                <!-- Price input -->
                <div class="form-outline mb-3">
                    <input type="text" name="price" id="stringPrice" class="form-control form-control-small"
                        placeholder="Price" required />
                </div>
                <!-- Stock input -->
                <div class="form-outline mb-3 d-flex">
                    <input type="number" min="0" value="1" name="stock" class="form-control form-control-small"
                        placeholder="Stock" required />
                </div>
                <!-- Image input -->
                <div class="form-outline mb-4">
                    <label for="file">Pilih Gambar:</label>
                    <input type="file" name="file" id="file" class="form-control" required>
                </div>
                <!-- Description input -->
                <div class="form-floating">
                    <textarea class="form-control" name="description" placeholder="Description" id="floatingTextarea2"
                        style="height: 220px">Description : </textarea>
                    <label for="floatingTextarea2">Description</label>
                </div>

                <div class="d-flex justify-content-center gap-5">
                    <div class="text-center text-small-start mt-4 pt-2">
                        <button type="submit" class="btn btn-primary btn-small">SAVE</button>
                    </div>
                    <div class="text-center text-small-start mt-4 pt-2">
                        <button type="reset" class="btn btn-primary btn-small">RESET</button>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script>
        var price = document.getElementById('stringPrice');
        price.addEventListener('keyup', function (e) {
            price.value = formatRupiah(this.value, 'Rp. ');
        });

        /* Fungsi */
        function formatRupiah(value, prefix) {
            var price_string = value.replace(/[^,\d]/g, '').toString(),
                split = price_string.split(','),
                sisa = split[0].length % 3,
                rupiah = split[0].substr(0, sisa),
                ribuan = split[0].substr(sisa).match(/\d{3}/gi);

            if (ribuan) {
                separator = sisa ? '.' : '';
                rupiah += separator + ribuan.join('.');
            }

            rupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;
            return prefix == undefined ? rupiah : (rupiah ? 'Rp. ' + rupiah : '');
        }
    </script>
</body>

</html>